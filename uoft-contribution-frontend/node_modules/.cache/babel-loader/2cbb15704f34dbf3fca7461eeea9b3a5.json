{"ast":null,"code":"var _jsxFileName = \"/Users/hongxu/Documents/ECE444/ECE444-project-Frontend/src/components/CreateArticle.js\";\nimport React from 'react';\nimport { ID, URL } from \"../constants\";\nimport Axios from \"axios\";\nimport ImageUploader from 'react-images-upload';\nimport { Link } from \"react-router-dom\";\n\nclass CreateArticle extends React.Component {\n  // set constructor\n  constructor(props) {\n    super(props);\n\n    this.handleBlogCreate = e => {\n      console.log(\"In create blog\");\n      const url = `${URL}/create/`; // let history = useHistory();\n\n      Axios({\n        method: 'POST',\n        url: url,\n        data: {\n          imageURL: this.state.imageURL.toString(),\n          title: this.state.title.toString(),\n          content: this.state.content.toString(),\n          username: localStorage.getItem(ID),\n          rating: this.state.rating,\n          file: this.state.file\n        }\n      }).then(response => {\n        //print response\n        console.log(\"Response: \", response);\n\n        if (response.data.status === \"fail\") {\n          console.log(\"Response contains fail status\");\n          alert(\"Create Failed\");\n        } else {\n          console.log(\"gonna return\"); // Message(\"Create Successfully!\");\n          // history.push('/blogs');\n          // <Route exact path=\"/blogs\">\n          //     <Blog />\n          // </Route>\n\n          alert(\"Create Success\");\n          return response.data;\n        }\n      }).catch(err => {\n        console.log(\"Get Articles Failed: \", err);\n      });\n    };\n\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleSubjectChange = this.handleSubjectChange.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.state = {\n      title: '',\n      content: '',\n      file: null,\n      imageURL: \"https://www.chopstickchronicles.com/wp-content/uploads/2020/03/Takoyaki-2020-update-34.jpg\",\n      rating: 5\n    };\n    this.onDrop = this.onDrop.bind(this);\n  } //store title and content\n\n\n  handleTitleChange(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  handleSubjectChange(e) {\n    this.setState({\n      content: e.target.value\n    });\n  }\n\n  handleImageChange(e) {\n    this.setState({\n      imageURL: e.target.value\n    });\n  }\n\n  // save uploaded image to state\n  onDrop(picture, url) {\n    this.setState({\n      file: picture\n    });\n    console.log(this.state.file);\n  } //\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Create New Article\"), /*#__PURE__*/React.createElement(\"form\", {\n      role: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      styles: \"clear:both\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"title\",\n      name: \"title\",\n      placeholder: \"Title\",\n      required: true,\n      onChange: this.handleTitleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      type: \"textarea\",\n      id: \"content\",\n      placeholder: \"Enter your content here...\",\n      maxLength: \"140\",\n      rows: \"10\",\n      onChange: this.handleSubjectChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(ImageUploader, {\n      withIcon: true,\n      buttonText: \"Choose images\",\n      onChange: this.onDrop,\n      imgExtension: ['.jpg', '.gif', '.png', '.gif'],\n      maxFileSize: 5242880,\n      singleImage: \"singleImage\",\n      withPreview: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"imageURL\",\n      name: \"iamgeURL\",\n      placeholder: \"Image URL\",\n      required: true,\n      onChange: this.handleImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/blogs/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleBlogCreate,\n      type: \"button\",\n      id: \"submit\",\n      name: \"submit\",\n      className: \"btn btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Create\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: \"cancel\",\n      name: \"cancel\",\n      className: \"btn btn-primary pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nexport default CreateArticle;","map":{"version":3,"sources":["/Users/hongxu/Documents/ECE444/ECE444-project-Frontend/src/components/CreateArticle.js"],"names":["React","ID","URL","Axios","ImageUploader","Link","CreateArticle","Component","constructor","props","handleBlogCreate","e","console","log","url","method","data","imageURL","state","toString","title","content","username","localStorage","getItem","rating","file","then","response","status","alert","catch","err","handleTitleChange","bind","handleSubjectChange","handleImageChange","onDrop","setState","target","value","picture","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {ID, URL} from \"../constants\";\nimport Axios from \"axios\";\nimport ImageUploader from 'react-images-upload';\nimport {Link} from \"react-router-dom\";\n\nclass CreateArticle extends React.Component {\n\n    // set constructor\n    constructor(props) {\n        super(props);\n        this.handleTitleChange = this.handleTitleChange.bind(this);\n        this.handleSubjectChange = this.handleSubjectChange.bind(this);\n        this.handleImageChange = this.handleImageChange.bind(this);\n        this.state = {\n            title:'',\n            content:'',\n            file: null,\n            imageURL: \"https://www.chopstickchronicles.com/wp-content/uploads/2020/03/Takoyaki-2020-update-34.jpg\",\n            rating: 5\n        };\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n\n\n    //store title and content\n    handleTitleChange(e){\n        this.setState({title:e.target.value})\n    }\n    handleSubjectChange(e){\n        this.setState({content:e.target.value})\n    }\n\n    handleImageChange(e){\n        this.setState({imageURL:e.target.value})\n    }\n\n    handleBlogCreate = (e) =>{\n        console.log(\"In create blog\");\n        const url = `${URL}/create/`;\n        // let history = useHistory();\n\n        Axios({\n            method: 'POST',\n            url: url,\n            data: {\n                imageURL: this.state.imageURL.toString(),\n                title: this.state.title.toString(),\n                content: this.state.content.toString(),\n                username: localStorage.getItem(ID),\n                rating: this.state.rating,\n                file: this.state.file\n\n            }\n        })\n            .then(\n                response => { //print response\n                    console.log(\"Response: \", response);\n                    if (response.data.status === \"fail\") {\n                        console.log(\"Response contains fail status\");\n                        alert(\"Create Failed\")\n                    } else {\n                        console.log(\"gonna return\");\n                        // Message(\"Create Successfully!\");\n                        // history.push('/blogs');\n                        // <Route exact path=\"/blogs\">\n                        //     <Blog />\n                        // </Route>\n                        alert(\"Create Success\")\n                        return response.data;\n                    }\n                }\n            )\n            .catch(\n                err => {\n                    console.log(\"Get Articles Failed: \", err);\n                }\n            )\n    }\n\n    // save uploaded image to state\n    onDrop(picture, url){\n        this.setState({file:picture})\n        console.log(this.state.file)\n    }\n\n    //\n\n\n    render() {\n        return (\n            <div className=\"form-area\">\n                <h4>Create New Article</h4>\n                <form role=\"form\">\n                    <br styles=\"clear:both\"/>\n                    {/*title*/}\n                    <div className=\"form-group\">\n                        <input type=\"text\" className=\"form-control\" id=\"title\" name=\"title\" placeholder=\"Title\"\n                               required\n                               onChange={this.handleTitleChange}/>\n                    </div>\n                    {/*content*/}\n                    <div className=\"form-group\">\n                        <textarea className=\"form-control\" type=\"textarea\" id=\"content\" placeholder=\"Enter your content here...\"\n                                  maxLength=\"140\" rows=\"10\"\n                                  onChange={this.handleSubjectChange}></textarea>\n                    </div>\n                    <ImageUploader\n                        withIcon={true}\n                        buttonText='Choose images'\n                        onChange={this.onDrop}\n                        imgExtension={['.jpg', '.gif', '.png', '.gif']}\n                        maxFileSize={5242880}\n                        singleImage=\"singleImage\"\n                        withPreview={true}\n\n                    />\n                    <input type=\"text\" className=\"form-control\" id=\"imageURL\" name=\"iamgeURL\" placeholder=\"Image URL\"\n                           required\n                           onChange={this.handleImageChange}/>\n\n\n                    <Link to=\"/blogs/\">\n                        <button onClick={this.handleBlogCreate} type=\"button\"\n                                id=\"submit\" name=\"submit\" className=\"btn btn-primary pull-right\">\n                            Create\n                        </button>\n\n                        <button type=\"button\" id=\"cancel\" name=\"cancel\" className=\"btn btn-primary pull-right\">\n                            Cancel\n                        </button>\n                    </Link>\n                </form>\n            </div>\n        )\n\n    }\n\n\n\n}\nexport default CreateArticle;"]},"metadata":{},"sourceType":"module"}